import React, {useMemo} from 'react';
import './Chapter.scss';

export function titleToId(title: string) {
    return title.toLowerCase().replace(/\s/g,'-').replace(/[^\da-zA-Z-]/g, '');
}
function Chapter({ title, children, depth }: { title: string, children: React.ReactNode, depth: number }) {
    const header = useMemo(() => {
        switch (depth) {
            case 1: return <h1>{title}</h1>;
            case 2: return <h2>{title}</h2>;
            case 3: return <h3>{title}</h3>;
            case 4: return <h4>{title}</h4>;
            case 5: return <h5>{title}</h5>;
            case 6: return <h6>{title}</h6>;
        }
    }, [depth, title]);
    return (
        <div className="chapter" id={titleToId(title)}>
            {header}
            <svg
                className="chapter-decoration"
                width="66.040382mm"
                height="19.435259mm"
                viewBox="0 0 66.040382 19.435259"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg">
                <g transform="translate(-95.215151,-129.18489)">
                    <path
                        className="chapter-decoration-path"
                        d="m 160.98428,140.00796 q 0.61033,2.3368 -0.15259,3.9116 -0.68663,1.5748 -2.0599,2.3876 -1.37329,0.8636 -2.82283,0.8636 -1.37327,0.0508 -2.28878,-0.7112 -0.53406,-0.4572 -0.1526,-1.0668 0.38146,-0.6096 1.22068,-1.3208 0.83924,-0.6604 1.75474,-1.4732 0.9155,-0.8128 1.44957,-1.778 0.61033,-0.9144 0.45775,-1.9812 -0.0763,-1.016 -1.37327,-2.1844 -1.06809,-1.016 -2.44136,-1.524 -1.29699,-0.4572 -3.05172,-0.3048 -1.67844,0.1524 -3.96722,1.0668 -2.28878,0.9144 -5.41678,2.6416 -3.12801,1.7272 -7.17153,4.4196 -5.1116,3.4036 -10.4521,4.6736 -5.34049,1.27 -10.29953,0.9144 -4.88274,-0.3048 -8.92625,-1.8288 -4.04351,-1.524 -6.637473,-3.7592 -2.593948,-2.2352 -3.20429,-4.7244 -0.534045,-2.3368 0.15258,-3.9624 0.686633,-1.5748 2.059903,-2.4384 1.296988,-0.8636 2.82284,-0.9144 1.44955,0 2.36507,0.8128 0.53405,0.508 0.22888,1.0668 -0.38147,0.5588 -1.22068,1.27 -0.83923,0.7112 -1.75474,1.4732 -0.915505,0.8128 -1.449563,1.7272 -0.610343,0.9144 -0.457749,1.9812 0.07626,1.0668 1.296974,2.2352 1.831028,1.778 4.730158,1.778 2.89912,0 7.2478,-2.032 4.34869,-1.9812 10.52842,-6.2484 4.27238,-2.9464 8.69737,-4.318 4.42497,-1.3716 8.62107,-1.4732 4.19611,-0.0508 7.85816,0.8636 3.73834,0.9144 6.63747,2.4892 2.89912,1.5748 4.80645,3.5052 1.90731,1.9812 2.36507,3.9624 z m -9.5366,-7.0612 q -2.28879,-0.8128 -5.03532,-1.3716 -2.74654,-0.5588 -5.95085,-0.3556 -3.12799,0.2032 -6.79004,1.5748 -3.58576,1.4224 -7.78186,4.4704 -4.42497,3.2512 -8.08704,5.0292 -3.58576,1.778 -6.56118,2.3368 -2.89913,0.6096 -5.41678,0.1016 2.28878,0.9652 4.95903,1.4732 2.74654,0.508 5.87455,0.2032 3.12799,-0.254 6.71376,-1.6256 3.66206,-1.3716 7.78186,-4.2164 3.50947,-2.4384 6.256,-4.0132 2.82283,-1.5748 5.1879,-2.4384 2.36507,-0.8128 4.50128,-1.0668 2.1362,-0.254 4.34869,-0.1016 z"
                    />
                </g>
            </svg>
            {children}
        </div>
    );
}

export default Chapter;
