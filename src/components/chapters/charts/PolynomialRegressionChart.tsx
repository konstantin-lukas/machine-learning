import {Chart as ChartJS, LinearScale, PointElement, Tooltip} from "chart.js";
import {Scatter} from "react-chartjs-2";
import {options, optionsDarkMode} from "./options";
import React, {useContext, useMemo} from "react";
import {DarkModeContext} from "../../../contexts";
ChartJS.register(LinearScale, PointElement, Tooltip);


function PolynomialRegressionChart() {
    const darkMode = useContext(DarkModeContext);
    const data = useMemo(() => {
       /* const array = new Array(100).fill(0);

        for (let i = 0; i < 100; i++) {
            const xOffset = Math.random() * 10;
            const yOffset = 120 + Math.random() * 10;
            array[i] = {"x": i + xOffset, "y": yOffset + (1/100000)*Math.pow(i,4)-(1/1000)*Math.pow(i,3)}
        }
        console.log(array)
        return array;*/
        return [
            {
                "x": 5.664416017300926,
                "y": 127.90070127894323
            },
            {
                "x": 7.140162713136972,
                "y": 124.81715214847962
            },
            {
                "x": 2.5915145100892536,
                "y": 121.21229236759089
            },
            {
                "x": 10.275573215270192,
                "y": 128.8169428592116
            },
            {
                "x": 4.815380922261603,
                "y": 126.8982825711192
            },
            {
                "x": 11.414227131685148,
                "y": 124.56064340660222
            },
            {
                "x": 7.811863579834442,
                "y": 123.83231754673737
            },
            {
                "x": 13.474832057351747,
                "y": 124.73415924517542
            },
            {
                "x": 8.515677978340683,
                "y": 128.23066470160921
            },
            {
                "x": 16.765212658087094,
                "y": 128.11914836940304
            },
            {
                "x": 15.897529151560253,
                "y": 127.75967079245936
            },
            {
                "x": 13.559251525067229,
                "y": 123.74918378530259
            },
            {
                "x": 16.463043798147627,
                "y": 122.38481181586755
            },
            {
                "x": 17.46888270744464,
                "y": 125.39530262680663
            },
            {
                "x": 22.057753999002248,
                "y": 118.28793143103023
            },
            {
                "x": 19.05759982918385,
                "y": 121.19149465359075
            },
            {
                "x": 20.423172096105915,
                "y": 117.34290206123363
            },
            {
                "x": 17.81366657459512,
                "y": 118.81962829443806
            },
            {
                "x": 20.166019787706567,
                "y": 118.28139709749419
            },
            {
                "x": 21.511517968305228,
                "y": 123.1455430824892
            },
            {
                "x": 23.96372347354035,
                "y": 116.48880157649823
            },
            {
                "x": 27.424188734851256,
                "y": 119.65468982879142
            },
            {
                "x": 23.87310864172154,
                "y": 115.69366731956492
            },
            {
                "x": 30.303268954409383,
                "y": 115.62871956709299
            },
            {
                "x": 31.41083670343412,
                "y": 115.53133715978056
            },
            {
                "x": 27.660475095513817,
                "y": 112.99254149619577
            },
            {
                "x": 35.370790360890325,
                "y": 114.12530240870095
            },
            {
                "x": 32.906167544335744,
                "y": 107.62486027613787
            },
            {
                "x": 29.631901722438624,
                "y": 106.61670818040676
            },
            {
                "x": 30.991564669408724,
                "y": 103.3089084749235
            },
            {
                "x": 33.27731638524861,
                "y": 110.98214400410828
            },
            {
                "x": 35.14765920070396,
                "y": 100.93091096825583
            },
            {
                "x": 37.691475128548916,
                "y": 100.98621073097141
            },
            {
                "x": 41.79034288416424,
                "y": 99.31430890600369
            },
            {
                "x": 35.40055644300555,
                "y": 100.27114150288139
            },
            {
                "x": 38.15559597938487,
                "y": 99.191009049607
            },
            {
                "x": 45.70214275617499,
                "y": 91.4954147476098
            },
            {
                "x": 39.78255623708464,
                "y": 88.72299887937942
            },
            {
                "x": 39.922406613982425,
                "y": 87.51232252390103
            },
            {
                "x": 43.00210304631336,
                "y": 92.112522651064
            },
            {
                "x": 47.89726708874785,
                "y": 81.89347492561296
            },
            {
                "x": 41.3551158436643,
                "y": 85.17889895965918
            },
            {
                "x": 45.12748575817166,
                "y": 86.14076148458868
            },
            {
                "x": 51.87919819836863,
                "y": 76.60718927518684
            },
            {
                "x": 45.21982358705735,
                "y": 80.7665558404704
            },
            {
                "x": 45.40966505590495,
                "y": 71.25186199189417
            },
            {
                "x": 46.53193175354299,
                "y": 73.21647489237573
            },
            {
                "x": 48.05590491901946,
                "y": 72.20617954119408
            },
            {
                "x": 56.570266359132056,
                "y": 66.87777724699116
            },
            {
                "x": 49.975469806586595,
                "y": 60.77958445801167
            },
            {
                "x": 55.65600542712968,
                "y": 60.40844114719988
            },
            {
                "x": 60.74583058369117,
                "y": 58.42145334080533
            },
            {
                "x": 53.17619964474686,
                "y": 56.75399654576512
            },
            {
                "x": 58.23582877342283,
                "y": 59.39416041373039
            },
            {
                "x": 62.88492641811939,
                "y": 57.22117086619707
            },
            {
                "x": 61.00138182416787,
                "y": 52.34344381811911
            },
            {
                "x": 57.61158753258418,
                "y": 45.72240946646983
            },
            {
                "x": 63.44985412060478,
                "y": 50.09543628679364
            },
            {
                "x": 63.611391302508856,
                "y": 48.03084917034596
            },
            {
                "x": 61.638628724859885,
                "y": 37.50766621850036
            },
            {
                "x": 61.133060887643,
                "y": 41.04538044470553
            },
            {
                "x": 68.69887487859563,
                "y": 39.73253435034917
            },
            {
                "x": 65.34713633698237,
                "y": 33.596548465687505
            },
            {
                "x": 63.65439080853398,
                "y": 35.08215194728385
            },
            {
                "x": 67.93608505559087,
                "y": 26.176991197409848
            },
            {
                "x": 66.28203685007736,
                "y": 24.813686443797963
            },
            {
                "x": 74.2730986814897,
                "y": 23.283090733305812
            },
            {
                "x": 76.47505946214062,
                "y": 24.41184922725273
            },
            {
                "x": 72.45542385261068,
                "y": 23.39123613895856
            },
            {
                "x": 72.61254058823982,
                "y": 21.359216761628147
            },
            {
                "x": 71.4585209262416,
                "y": 19.34766676045723
            },
            {
                "x": 80.84552658475086,
                "y": 18.0986697276453
            },
            {
                "x": 77.22027617028479,
                "y": 20.882783544519214
            },
            {
                "x": 73.31909459835383,
                "y": 20.424029470565813
            },
            {
                "x": 78.6783212506097,
                "y": 15.344769943440895
            },
            {
                "x": 79.1485047452305,
                "y": 22.80287318309854
            },
            {
                "x": 80.22835765945446,
                "y": 20.14500859037878
            },
            {
                "x": 83.32227332529044,
                "y": 22.58046851138772
            },
            {
                "x": 81.60415948222179,
                "y": 16.97108220148948
            },
            {
                "x": 88.55338821809286,
                "y": 20.415099559221403
            },
            {
                "x": 83.24658238098147,
                "y": 17.91803423198337
            },
            {
                "x": 85.5201599104918,
                "y": 27.192336836464392
            },
            {
                "x": 84.75153064702506,
                "y": 22.268631470944683
            },
            {
                "x": 83.55181575199785,
                "y": 24.066587230859795
            },
            {
                "x": 88.58140465074985,
                "y": 32.49791138392686
            },
            {
                "x": 94.90468025436728,
                "y": 28.031032689452218
            },
            {
                "x": 86.280288501351,
                "y": 34.1489452789001
            },
            {
                "x": 89.45594160038405,
                "y": 40.357254800578175
            },
            {
                "x": 92.80855338626668,
                "y": 47.00579020134694
            },
            {
                "x": 91.08523781675578,
                "y": 42.50383218240313
            },
            {
                "x": 95.30517514553554,
                "y": 49.18675185808536
            },
            {
                "x": 92.51112933602174,
                "y": 52.539207445110264
            },
            {
                "x": 92.89517259377612,
                "y": 58.78956192359385
            },
            {
                "x": 95.21666317540605,
                "y": 65.27986782011703
            },
            {
                "x": 95.53382364357253,
                "y": 79.77124722506369
            },
            {
                "x": 98.38582429886844,
                "y": 83.96373764173097
            },
            {
                "x": 100.38427210808739,
                "y": 90.56815631156348
            },
            {
                "x": 98.4027719619576,
                "y": 98.26398849543875
            },
            {
                "x": 107.0123271028209,
                "y": 105.92452976630852
            },
            {
                "x": 106.91475116112673,
                "y": 116.38796267881844
            }
        ];
    }, []);
    return <Scatter
        data={{datasets: [
                {
                    label: 'Dataset 1',
                    data: data,
                    borderColor: "orange",
                    backgroundColor: "transparent",
                    pointStyle: "circle",
                    pointRadius: 6
                }
            ]}}
        options={{
            scales: {
                x: {
                    ...(darkMode ? optionsDarkMode : options).scales.x
                },
                y: {
                    ...(darkMode ? optionsDarkMode : options).scales.y
                }
            },
            plugins: {
                tooltip: {
                    displayColors: false,
                    padding: 10,
                    callbacks: {
                        label: function (context) {
                            return context.formattedValue;
                        }
                    }
                }
            }
        }}
    />;
}

export default PolynomialRegressionChart;